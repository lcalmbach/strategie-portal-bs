{% extends "base.html" %}
{% load custom_filters %}
{% block title %}Ziele{% endblock title %}
{% block content %}
    <div class="container">
        <h1>Themen ({{ themen|length }})</h1>

        <table class="table">
            <thead>
                <tr>
                    <th>KÃ¼rzel</th>
                    <th>Titel</th>
                    <th>Beschreibung</th>
                    <th>Edit</th>
                </tr>
                <tr>
                    <th>
                        <input type="text" name="kuerzel" id="kuerzel" class="form-control" form="filter-form"
                            value="{{ request.GET.kuerzel }}" onchange="submitFilters()">
                    </th>
                    <th>
                        <input type="text" name="titel" id="titel" class="form-control" form="filter-form"
                            value="{{ request.GET.titel }}" onchange="submitFilters()">
                    </th>
                    <th>
                        <input type="text" name="beschreibung" id="beschreibung" class="form-control" form="filter-form"
                            value="{{ request.GET.beschreibung }}" onchange="submitFilters()">
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                {% for thema in themen %}
                <tr>
                    <td>{{ thema.kuerzel }}</td>
                    <td>{{ thema.titel }}</td>
                    <td>{{ thema.beschreibung }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <form method="get" action="" id="filter-form"></form>
    </div>

    <script>
        // JavaScript function to submit the form when a filter changes
        function submitFilters() {
            document.getElementById('filter-form').submit();
        }
    </script>
{% endblock %}